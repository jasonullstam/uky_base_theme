{"version":3,"sources":["ambient-video.js"],"names":["ambient_video","$av","$","length","$sources","find","window","matchMedia","matches","attr","play","$control","show","click","$button","e","currentTarget","video","siblings","toggleClass","paused","data","pause","stop","document","ready"],"mappings":";;AAAA;;;;AAIA,IAAMA,gBAAgB,SAAhBA,aAAgB,GAAM;AAC3B,MAAMC,MAAMC,EAAE,sBAAF,CAAZ;AACA,MAAID,IAAIE,MAAJ,GAAa,CAAjB,EAAoB,OAFO,CAEC;;AAE3B,MAAMC,WAAWH,IAAII,IAAJ,CAAS,QAAT,CAAjB;;AAED,MAAIC,OAAOC,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EAAqD;AACpDP,QAAIQ,IAAJ,CAAS,UAAT,EAAqB,IAArB;AACAR,QAAI,CAAJ,EAAOS,IAAP;;AAEA;AACA,QAAMC,WAAWT,EAAE,uBAAF,CAAjB;AACAS,aAASC,IAAT;AACAD,aAASE,KAAT,CAAgB,aAAK;AACjB,UAAMC,UAAUZ,EAAEa,EAAEC,aAAJ,CAAhB;AACA,UAAMC,QAAQH,QAAQI,QAAR,CAAiB,OAAjB,EAA0B,CAA1B,CAAd;AACAJ,cAAQK,WAAR,CAAoB,sBAApB;AACA,UAAIF,MAAMG,MAAV,EAAkB;AAChBH,cAAMP,IAAN;AACAI,gBAAQL,IAAR,CAAa,YAAb,EAA2BK,QAAQO,IAAR,CAAa,eAAb,CAA3B;AACD,OAHD,MAGO;AACLJ,cAAMK,KAAN;AACAR,gBAAQL,IAAR,CAAa,YAAb,EAA2BK,QAAQO,IAAR,CAAa,iBAAb,CAA3B;AACD;AACF,KAXH;AAYC,GAnBF,MAmBQ;AACHpB,QAAI,CAAJ,EAAOsB,IAAP;AACH;AACF,CA5BD;;AA8BArB,EAAEsB,QAAF,EAAYC,KAAZ,CAAmB,YAAM;AACrBzB;AACH,CAFD","file":"ambient-video.js","sourcesContent":["/* \n * Ambient video processing and initialization. \n */\n\nconst ambient_video = () => {\n\tconst $av = $('.ambient-video video');\n\tif ($av.length < 1) return; // Bail if we have no matching components\n    \n  const $sources = $av.find('source');\n\n\tif (window.matchMedia(\"(min-width: 64rem)\").matches) {\n\t\t$av.attr('autoplay', true);\n\t\t$av[0].play();\n\n\t\t// Since the video is working, enable the play / pause control\n\t\tconst $control = $('.ambient-video button');\n\t\t$control.show();\n\t\t$control.click( e => {\n      const $button = $(e.currentTarget);\n      const video = $button.siblings('video')[0];\n      $button.toggleClass('video-button--paused');\n      if (video.paused) {\n        video.play();\n        $button.attr('aria-label', $button.data('pressed-label'));\n      } else {\n        video.pause();\n        $button.attr('aria-label', $button.data('unpressed-label'));\n      }\n    });\n  } else {\n      $av[0].stop();\n  }\n}\n\n$(document).ready( () => {\n    ambient_video();\n})\n"]}